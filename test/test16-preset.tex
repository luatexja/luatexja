%#!lualatex test16-preset && pdffonts test16-preset.pdf
\documentclass{ltjtarticle}
\makeatletter
\let\ltj@orig@DeclareFontShape@=\DeclareFontShape@
\def\DeclareFontShape@#1#2#3#4#5#6{%
      \immediate\typeout{DFS |#1|#2|#3|#4|#5|#6|}%
      \ltj@orig@DeclareFontShape@{#1}{#2}{#3}{#4}{#5}{#6}%
      }
\makeatother
\usepackage[deluxe,expert,jis2004, match,nfssonly]{luatexja-preset}
\ltjnewpreset{mc}{} % error
\ltjnewpreset{kozuka-pro}{} % error

\ltjnewpreset{hoge}{ms}
\ltjnewpreset{hoge}{} % error
\ltjnewpreset*{hoge}{
  kozuka-pr6n,
  mc=SourceHanSerif-Regular,
  mc-l=SourceHanSerif-Bold,
  mc-m=KozMinPr6N-Regular,
  mg-m=HGSeikaishotaiPRO,
}

\ltjapplypreset{hoge}
\begin{document}
\makeatletter
\def\r#1#2{ \csname #1family \endcsname \csname #2series \endcsname
  %\addjfontfeature {CJKShape=JIS1983}
  {\romanfamily{\ttdefault}\selectfont<\k@family><\k@series><\k@shape>}\\
  {\tt#1, #2\ \ \ \ \ }: あーいうえおabc漢字，あ！い，辻ぁが\\
  {\tt#1, #2 (rb)}: {\rubyfamily あーいうえおabc漢字，あ！い，辻ぁが}
}
\@namedef{..series}{\relax}

\ifdefined\ltseries
\r{mc}{lt}
\fi

\r{mc}{md}

\r{mc}{bf}


\r{gt}{md}

\r{gt}{bf}

\ifdefined\ebseries
\r{gt}{eb}
\fi

\ifdefined\mgfamily
\r{mg}{md}
\fi

\r{tt}{md}

\r{tt}{bf}

$あいう\mathgt{あいう}$

\normalfont
{あいうえおabc \sf あいうえおabc}

\end{document}
