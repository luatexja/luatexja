%
% lltjp-siunitx.sty
%

\NeedsTeXFormat{LaTeX2e}

\RequirePackage{luatexja}
\ExplSyntaxOn
\cs_generate_variant:Nn \tl_if_in:NnT { coT }
\cs_new:Nn \__ltj_siunix_patch_inner:n {
  \cs_if_exist:cT { #1_tl } {
    \tl_if_in:coT { #1_tl } { \tex_char:D } {
	  \tl_replace_all:cnn { #1_tl } { \tex_char:D } { \ltjalchar }
	}
  }
}
\cs_new:Nn \__ltj_siunix_patch_inner_math:n {
   \__ltj_siunix_patch_inner:n { l__siunitx_#1_math }
   \__ltj_siunix_patch_inner:n { l__siunitx_#1_text }
}
\AtBeginDocument {
  \__ltj_siunix_patch_inner:n { c__siunitx_minus }
  \__ltj_siunix_patch_inner:n { c__siunitx_mu }
  \__ltj_siunix_patch_inner_math:n { angstrom }
  \__ltj_siunix_patch_inner_math:n { arcminute }
  \__ltj_siunix_patch_inner_math:n { arcsecond }
  \__ltj_siunix_patch_inner_math:n { ohm }
}
\ExplSyntaxOff
\endinput
